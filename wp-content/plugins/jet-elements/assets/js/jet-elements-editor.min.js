!function(e){"use strict";var t={activeSection:null,editedElement:null,init:function(){madxartwork.channels.editor.on("section:activated",t.onAnimatedBoxSectionActivated),madxartwork.channels.editor.on("section:activated",t.onCountdownSectionActivated),window.madxartwork.on("preview:loaded",function(){madxartwork.$preview[0].contentWindow.JetElementsEditor=t,t.onPreviewLoaded()}),madxartwork.addControlView("jet_dynamic_date_time",window.madxartwork.modules.controls.Date_time)},onAnimatedBoxSectionActivated:function(e,t){var n=t.getOption("editedElementView"),i=window.JetElementsEditor.editedElement;(i&&"jet-animated-box"===i.model.get("widgetType")&&"jet-animated-box"!==n.model.get("widgetType")&&(i.$el.find(".jet-animated-box").removeClass("flipped"),i.$el.find(".jet-animated-box").removeClass("flipped-stop"),window.JetElementsEditor.editedElement=null),"jet-animated-box"===n.model.get("widgetType"))&&(window.JetElementsEditor.editedElement=n,window.JetElementsEditor.activeSection=e,-1!==["section_back_content","section_action_button_style"].indexOf(e)?(n.$el.find(".jet-animated-box").addClass("flipped"),n.$el.find(".jet-animated-box").addClass("flipped-stop")):(n.$el.find(".jet-animated-box").removeClass("flipped"),n.$el.find(".jet-animated-box").removeClass("flipped-stop")))},onCountdownSectionActivated:function(e,t){var n=t.getOption("editedElementView"),i=window.JetElementsEditor.editedElement;i&&"jet-countdown-timer"===i.model.get("widgetType")&&"jet-countdown-timer"!==n.model.get("widgetType")&&(i.$el.find(".jet-countdown-timer-message").hide(),window.JetElementsEditor.editedElement=null),"jet-countdown-timer"===n.model.get("widgetType")&&(window.JetElementsEditor.editedElement=n,window.JetElementsEditor.activeSection=e,"section_message_style"===e?n.$el.find(".jet-countdown-timer-message").show():n.$el.find(".jet-countdown-timer-message").hide())},onPreviewLoaded:function(){e("#madxartwork-preview-iframe")[0].contentWindow.madxartworkFrontend.hooks.addAction("frontend/element_ready/widget",function(t){t.find(".jet-elements-edit-template-link").on("click",function(t){window.open(e(this).attr("href"))})})}};e(window).on("madxartwork:init",t.init),window.JetElementsEditor=t}(jQuery);